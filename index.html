<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Twiddler</title>
    <link rel="stylesheet" href="assets/stylesheets/main.css">
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>

    <header>
      <h1 class="title">TWIDDLER</h1>
    </header>

    <section class="tweeting">
      <div class="bar">
        <form class>
          <input type="text" name="message" placeholder="Tweet your thoughts!">
          <button id="btn1" type="button">Refresh</button>
        </form>
      </div>
    </section>

    <section class="tweets">
        <div id="container"></div>
    </section>


    <!--Tweets-->
    <script>

      $(document).ready(function(){
        // Generate tweets, the feed
        var generateTweets = function() {
          var $body = $('body #container');
          $body.html('');

        var index = streams.home.length - 1;
        while(index >= 0){
          var dt = new Date();
          var time = dt.getHours() + ":" + dt.getMinutes() + ":" + dt.getSeconds();
          var tweet = streams.home[index];
          var $tweet = $('<div></div>');
          $tweet.html('@' + tweet.user + '<br>' + tweet.message + "<br>" + time);
          $tweet.css("border-bottom", "1px solid black");
          $tweet.appendTo($body);
          index -= 1;
        }
      };
      generateTweets(); // call it once to generate tweets

      $("#btn1").on("click", function() { // On click, generate new tweets
        generateTweets();
      });

      });

    </script>

  </body>
</html>
